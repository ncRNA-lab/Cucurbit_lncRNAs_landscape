text.scale = 1.7,
mainbar.y.label = "Number of families (Intersection Size)",
sets.x.label = "Number of families (Set Size)")
upset(Famtab,
sets = species,
nintersects = NA,
sets.bar.color = c(rep("#86c3e7", length(species))),
order.by = "freq",
#empty.intersections = "on",
text.scale = 1.7,
mainbar.y.label = "Number of families (Intersection Size)",
sets.x.label = "Number of families (Set Size)")
Famtab[1:20,]
Famtab = Famtab[1:20,]
upset(Famtab,
sets = species,
nintersects = NA,
sets.bar.color = c(rep("#86c3e7", length(species))),
order.by = "freq",
#empty.intersections = "on",
text.scale = 1.7,
mainbar.y.label = "Number of families (Intersection Size)",
sets.x.label = "Number of families (Set Size)")
Famtab = Famtab[1:19,]
upset(Famtab,
sets = species,
nintersects = NA,
sets.bar.color = c(rep("#86c3e7", length(species))),
order.by = "freq",
#empty.intersections = "on",
text.scale = 1.7,
mainbar.y.label = "Number of families (Intersection Size)",
sets.x.label = "Number of families (Set Size)")
Famtab = Famtab[1:10,]
upset(Famtab,
sets = species,
nintersects = NA,
sets.bar.color = c(rep("#86c3e7", length(species))),
order.by = "freq",
#empty.intersections = "on",
text.scale = 1.7,
mainbar.y.label = "Number of families (Intersection Size)",
sets.x.label = "Number of families (Set Size)")
Famtab = Famtab[1:3,]
upset(Famtab,
sets = species,
nintersects = NA,
sets.bar.color = c(rep("#86c3e7", length(species))),
order.by = "freq",
#empty.intersections = "on",
text.scale = 1.7,
mainbar.y.label = "Number of families (Intersection Size)",
sets.x.label = "Number of families (Set Size)")
Famtab = Famtab_all[rowSums(Famtab_all[,2:dim(Famtab_all)[2]]) > 1, ]
Famtab = Famtab[10:15,]
upset(Famtab,
sets = species,
nintersects = NA,
sets.bar.color = c(rep("#86c3e7", length(species))),
order.by = "freq",
#empty.intersections = "on",
text.scale = 1.7,
mainbar.y.label = "Number of families (Intersection Size)",
sets.x.label = "Number of families (Set Size)")
class = "antisense"
## FAMILIES
Fampath = paste0(WD1, "/", confidence, "/", class, "/fam.tsv")
Famtab_all = read.table(Fampath, header = T, sep = "\t", quote = "\"")
Famtab = Famtab_all[rowSums(Famtab_all[,2:dim(Famtab_all)[2]]) > 1, ]
View(Famtab)
upset(Famtab_all,
sets = species,
nintersects = NA,
sets.bar.color = c(rep("#86c3e7", length(species))),
order.by = "freq",
#empty.intersections = "on",
text.scale = 1.7,
mainbar.y.label = "Number of families (Intersection Size)",
sets.x.label = "Number of families (Set Size)")
upset(Famtab,
sets = species,
nintersects = NA,
sets.bar.color = c(rep("#86c3e7", length(species))),
order.by = "freq",
#empty.intersections = "on",
text.scale = 1.7,
mainbar.y.label = "Number of families (Intersection Size)",
sets.x.label = "Number of families (Set Size)")
tryCatch (
print(
upset(Famtab,
sets = species,
nintersects = NA,
sets.bar.color = c(rep("#86c3e7", length(species))),
order.by = "freq",
#empty.intersections = "on",
text.scale = 1.7,
mainbar.y.label = "Number of families (Intersection Size)",
sets.x.label = "Number of families (Set Size)")
),
error = function(e){message(paste0("ERROR: Families, ", confidence, "-", class))}
)
upset(Famtab,
sets = species,
nintersects = NA,
sets.bar.color = c(rep("#86c3e7", length(species))),
order.by = "freq",
#empty.intersections = "on",
text.scale = 1.7,
mainbar.y.label = "Number of families (Intersection Size)",
sets.x.label = "Number of families (Set Size)")
confidence = "Low"
class = "intronic"
Fampath = paste0(WD1, "/", confidence, "/", class, "/fam.tsv")
Famtab_all = read.table(Fampath, header = T, sep = "\t", quote = "\"")
Famtab = Famtab_all[rowSums(Famtab_all[,2:dim(Famtab_all)[2]]) > 1, ]
upset(Famtab,
sets = species,
nintersects = NA,
sets.bar.color = c(rep("#86c3e7", length(species))),
order.by = "freq",
#empty.intersections = "on",
text.scale = 1.7,
mainbar.y.label = "Number of families (Intersection Size)",
sets.x.label = "Number of families (Set Size)")
confidence = "Low"
class = "antisense"
Fampath = paste0(WD1, "/", confidence, "/", class, "/fam.tsv")
Famtab_all = read.table(Fampath, header = T, sep = "\t", quote = "\"")
Famtab = Famtab_all[rowSums(Famtab_all[,2:dim(Famtab_all)[2]]) > 1, ]
upset(Famtab,
sets = species,
nintersects = NA,
sets.bar.color = c(rep("#86c3e7", length(species))),
order.by = "freq",
#empty.intersections = "on",
text.scale = 1.7,
mainbar.y.label = "Number of families (Intersection Size)",
sets.x.label = "Number of families (Set Size)")
confidence = "Low"
class = "intronic"
Fampath = paste0(WD1, "/", confidence, "/", class, "/fam.tsv")
Famtab_all = read.table(Fampath, header = T, sep = "\t", quote = "\"")
Famtab_LI = Famtab_all[rowSums(Famtab_all[,2:dim(Famtab_all)[2]]) > 1, ]
upset(Famtab_LI,
sets = species,
nintersects = NA,
sets.bar.color = c(rep("#86c3e7", length(species))),
order.by = "freq",
#empty.intersections = "on",
text.scale = 1.7,
mainbar.y.label = "Number of families (Intersection Size)",
sets.x.label = "Number of families (Set Size)")
confidence = "Low"
class = "antisense"
Fampath = paste0(WD1, "/", confidence, "/", class, "/fam.tsv")
Famtab_all = read.table(Fampath, header = T, sep = "\t", quote = "\"")
Famtab_LA = Famtab_all[rowSums(Famtab_all[,2:dim(Famtab_all)[2]]) > 1, ]
upset(Famtab_LA,
sets = species,
nintersects = NA,
sets.bar.color = c(rep("#86c3e7", length(species))),
order.by = "freq",
#empty.intersections = "on",
text.scale = 1.7,
mainbar.y.label = "Number of families (Intersection Size)",
sets.x.label = "Number of families (Set Size)")
View(Famtab_LA)
Famtab_LA
Famtab_LI
confidence = "Low"
class = "antisense"
Fampath = paste0(WD1, "/", confidence, "/", class, "/fam.tsv")
Famtab_all = read.table(Fampath, header = T, sep = "\t", quote = "\"")
Famtab_LA = Famtab_all[rowSums(Famtab_all[,2:dim(Famtab_all)[2]]) > 1, ]
Famtab_LA = Famtab_LA[1:10,]
upset(Famtab_LA,
sets = species,
nintersects = NA,
sets.bar.color = c(rep("#86c3e7", length(species))),
order.by = "freq",
#empty.intersections = "on",
text.scale = 1.7,
mainbar.y.label = "Number of families (Intersection Size)",
sets.x.label = "Number of families (Set Size)")
confidence = "Low"
class = "antisense"
Fampath = paste0(WD1, "/", confidence, "/", class, "/fam.tsv")
Famtab_all = read.table(Fampath, header = T, sep = "\t", quote = "\"")
Famtab_LA = Famtab_all[rowSums(Famtab_all[,2:dim(Famtab_all)[2]]) > 1, ]
#Famtab_LA = Famtab_LA[1:10,]
upset(Famtab_LA,
sets = species,
nintersects = NA,
sets.bar.color = c(rep("#86c3e7", length(species))),
order.by = "freq",
#empty.intersections = "on",
text.scale = 1.7,
mainbar.y.label = "Number of families (Intersection Size)",
sets.x.label = "Number of families (Set Size)")
lapply(Famtab_LI, class)
confidence = "Low"
class = "antisense"
Fampath = paste0(WD1, "/", confidence, "/", class, "/fam.tsv")
Famtab_all = read.table(Fampath, header = T, sep = "\t", quote = "\"")
Famtab_LA = Famtab_all[rowSums(Famtab_all[,2:dim(Famtab_all)[2]]) > 1, ]
#Famtab_LA = Famtab_LA[1:10,]
upset(Famtab_LA,
sets = species,
nintersects = NA,
sets.bar.color = c(rep("#86c3e7", length(species))),
order.by = "freq",
#empty.intersections = "on",
text.scale = 1.7,
mainbar.y.label = "Number of families (Intersection Size)",
sets.x.label = "Number of families (Set Size)")
lapply(Famtab_LA, class)
lapply(Famtab_LI, class)
View(Famtab_LI)
class(Famtab_LA$Family)
class(Famtab_LA$car)
sapply(Famtab_LA,class)
confidence = "Low"
class = "antisense"
Fampath = paste0(WD1, "/", confidence, "/", class, "/fam.tsv")
Famtab_all = read.table(Fampath, header = T, sep = "\t", quote = "\"")
Famtab_LA = Famtab_all[rowSums(Famtab_all[,2:dim(Famtab_all)[2]]) > 1, ]
Famtab_LA = as.data.frame(Famtab_LA)
#Famtab_LA = Famtab_LA[1:10,]
upset(Famtab_LA,
sets = species,
nintersects = NA,
sets.bar.color = c(rep("#86c3e7", length(species))),
order.by = "freq",
#empty.intersections = "on",
text.scale = 1.7,
mainbar.y.label = "Number of families (Intersection Size)",
sets.x.label = "Number of families (Set Size)")
colnames(Famtab_LA)
colnames(Famtab_LI)
c(rep("#86c3e7", length(species)))
c(rep("#86c3e7", length(species)))
confidence = "Low"
class = "intronic"
Fampath = paste0(WD1, "/", confidence, "/", class, "/fam.tsv")
Famtab_all = read.table(Fampath, header = T, sep = "\t", quote = "\"")
Famtab_LI = Famtab_all[rowSums(Famtab_all[,2:dim(Famtab_all)[2]]) > 1, ]
upset(Famtab_LI,
sets = species,
nintersects = NA,
sets.bar.color = c(rep("#86c3e7", length(species))),
order.by = "freq",
#empty.intersections = "on",
text.scale = 1.7,
mainbar.y.label = "Number of families (Intersection Size)",
sets.x.label = "Number of families (Set Size)")
confidence = "Low"
class = "antisense"
Fampath = paste0(WD1, "/", confidence, "/", class, "/fam.tsv")
Famtab_all = read.table(Fampath, header = T, sep = "\t", quote = "\"")
Famtab_LA = Famtab_all[rowSums(Famtab_all[,2:dim(Famtab_all)[2]]) > 1, ]
Famtab_LA = as.data.frame(Famtab_LA)
Famtab_LA = Famtab_LA[10:12,]
upset(Famtab_LA,
sets = species,
nintersects = NA,
sets.bar.color = c(rep("#86c3e7", length(species))),
order.by = "freq",
#empty.intersections = "on",
text.scale = 1.7,
mainbar.y.label = "Number of families (Intersection Size)",
sets.x.label = "Number of families (Set Size)")
confidence = "Low"
class = "intronic"
Fampath = paste0(WD1, "/", confidence, "/", class, "/fam.tsv")
Famtab_all = read.table(Fampath, header = T, sep = "\t", quote = "\"")
Famtab_LI = Famtab_all[rowSums(Famtab_all[,2:dim(Famtab_all)[2]]) > 1, ]
upset(Famtab_LI,
sets = species,
nintersects = NA,
sets.bar.color = c(rep("#86c3e7", length(species))),
order.by = "freq",
#empty.intersections = "on",
text.scale = 1.7,
mainbar.y.label = "Number of families (Intersection Size)",
sets.x.label = "Number of families (Set Size)")
confidence = "Low"
class = "antisense"
Fampath = paste0(WD1, "/", confidence, "/", class, "/fam.tsv")
Famtab_all = read.table(Fampath, header = T, sep = "\t", quote = "\"")
Famtab_LA = Famtab_all[rowSums(Famtab_all[,2:dim(Famtab_all)[2]]) > 1, ]
Famtab_LA = as.data.frame(Famtab_LA)
Famtab_LA = Famtab_LA[10:12,]
upset(Famtab_LA,
sets = species,
nintersects = NA,
sets.bar.color = c(rep("#86c3e7", length(species))),
order.by = "freq",
#empty.intersections = "on",
text.scale = 1.7,
mainbar.y.label = "Number of families (Intersection Size)",
sets.x.label = "Number of families (Set Size)")
View(Famtab_LA)
confidence = "Low"
class = "antisense"
Fampath = paste0(WD1, "/", confidence, "/", class, "/fam.tsv")
Famtab_all = read.table(Fampath, header = T, sep = "\t", quote = "\"")
Famtab_LA = Famtab_all[rowSums(Famtab_all[,2:dim(Famtab_all)[2]]) > 1, ]
Famtab_LA = as.data.frame(Famtab_LA)
upset(Famtab_LA,
sets = species,
nintersects = NA,
sets.bar.color = c(rep("#86c3e7", length(species))),
order.by = "freq",
#empty.intersections = "on",
text.scale = 1.7,
mainbar.y.label = "Number of families (Intersection Size)",
sets.x.label = "Number of families (Set Size)")
upset(Famtab_LA,
sets = species,
nintersects = NA,
sets.bar.color = c(rep("#86c3e7", length(species))),
order.by = "freq",
#empty.intersections = "on",
text.scale = 1.7,
mainbar.y.label = "Number of families (Intersection Size)",
sets.x.label = "Number of families (Set Size)")
traceback()
Famtab = data.frame(Family = "Fam1", car = 0, cla = 1, cma = 0, cme = 1, cmo = 0, cpe = 0, csa = 0, lsi = 0, mch = 1)
upset(Famtab,
sets = species,
nintersects = NA,
sets.bar.color = c(rep("#86c3e7", length(species))),
order.by = "freq",
#empty.intersections = "on",
text.scale = 1.7,
mainbar.y.label = "Number of families (Intersection Size)",
sets.x.label = "Number of families (Set Size)")
View(Famtab)
upset(Famtab,
sets = species,
nintersects = NA,
sets.bar.color = c(rep("#86c3e7", length(species))),
order.by = "freq",
#empty.intersections = "on",
text.scale = 1.7,
mainbar.y.label = "Number of families (Intersection Size)",
sets.x.label = "Number of families (Set Size)")
Famtab = Famtab_LI[1,]
upset(Famtab,
sets = species,
nintersects = NA,
sets.bar.color = c(rep("#86c3e7", length(species))),
order.by = "freq",
#empty.intersections = "on",
text.scale = 1.7,
mainbar.y.label = "Number of families (Intersection Size)",
sets.x.label = "Number of families (Set Size)")
upset(Famtab,
sets = species,
nintersects = NA,
sets.bar.color = c(rep("#86c3e7", length(species))),
order.by = "freq",
#empty.intersections = "on",
text.scale = 1.7,
mainbar.y.label = "Number of families (Intersection Size)",
sets.x.label = "Number of families (Set Size)")
Famtab = Famtab_LI[1:5,]
upset(Famtab,
sets = species,
nintersects = NA,
sets.bar.color = c(rep("#86c3e7", length(species))),
order.by = "freq",
#empty.intersections = "on",
text.scale = 1.7,
mainbar.y.label = "Number of families (Intersection Size)",
sets.x.label = "Number of families (Set Size)")
upset(Famtab,
sets = species,
nintersects = NA,
sets.bar.color = c(rep("#86c3e7", length(species))),
order.by = "freq",
#empty.intersections = "on",
text.scale = 1.7,
mainbar.y.label = "Number of families (Intersection Size)",
sets.x.label = "Number of families (Set Size)")
Famtab = data.frame(Family = "Fam1", car = c(0, 0), cla = c(1, 1), cma = c(0, 0), cme = c(1, 1), cmo = c(0, 0), cpe = c(0,0), csa = c(0, 1), lsi = c(0, 0), mch = c(1, 0))
upset(Famtab,
sets = species,
nintersects = NA,
sets.bar.color = c(rep("#86c3e7", length(species))),
order.by = "freq",
#empty.intersections = "on",
text.scale = 1.7,
mainbar.y.label = "Number of families (Intersection Size)",
sets.x.label = "Number of families (Set Size)")
Famtab = data.frame(Family = "Fam1", car = c(1, 0), cla = c(1, 1), cma = c(0, 0), cme = c(0, 1), cmo = c(0, 0), cpe = c(0,0), csa = c(0, 1), lsi = c(0, 1), mch = c(1, 1))
upset(Famtab,
sets = species,
nintersects = NA,
sets.bar.color = c(rep("#86c3e7", length(species))),
order.by = "freq",
#empty.intersections = "on",
text.scale = 1.7,
mainbar.y.label = "Number of families (Intersection Size)",
sets.x.label = "Number of families (Set Size)")
colnames(Famtab_LA)
Famtab_LA[,c("Family", "cla", "cma", "cme", "cmo", "cpe", "csa", "lsi", "mch", "car")]
Famtab_LA = Famtab_LA[,c("Family", "cla", "cma", "cme", "cmo", "cpe", "csa", "lsi", "mch", "car")]
upset(Famtab_LA,
sets = species,
nintersects = NA,
sets.bar.color = c(rep("#86c3e7", length(species))),
order.by = "freq",
#empty.intersections = "on",
text.scale = 1.7,
mainbar.y.label = "Number of families (Intersection Size)",
sets.x.label = "Number of families (Set Size)")
confidence = "Low"
class = "antisense"
Fampath = paste0(WD1, "/", confidence, "/", class, "/fam.tsv")
Famtab_all = read.table(Fampath, header = T, sep = "\t", quote = "\"")
Famtab_LA = Famtab_all[rowSums(Famtab_all[,2:dim(Famtab_all)[2]]) > 1, ]
colSums(Famtab_all[,2:dim(Famtab_all)[2]]) > 0
colSums(Famtab_LA[,2:dim(Famtab_LA)[2]]) > 0
as.data.frame(colSums(Famtab_LA[,2:dim(Famtab_LA)[2]]) > 0)
check = as.data.frame(colSums(Famtab_LA[,2:dim(Famtab_LA)[2]]))
as.data.frame(colSums(Famtab_LA[,2:dim(Famtab_LA)[2]]))
colnames(check) = "Size"
check = check[order(check$Size),]
check
check = check[order(check$Size, decreasing = T),]
check = check[order(check$Size, decreasing = T)]
check = check[order(check$Size, decreasing = T),]
check$Size
check = check[sort(check$Size, decreasing = T),]
check = check[order(check$Size, decreasing = TRUE),]
check$Size
check = as.data.frame(colSums(Famtab_LA[,2:dim(Famtab_LA)[2]]))
colnames(check) = c("Size")
check = check[order(check$Size, decreasing = TRUE),]
check = as.data.frame(colSums(Famtab_LA[,2:dim(Famtab_LA)[2]]))
View(check)
check$"Specie" = rownames(check)
colnames(check) = c("Size", "Specie")
check = check[order(check$Size, decreasing = TRUE),]
New_order = check$Specie
confidence = "Low"
class = "antisense"
Fampath = paste0(WD1, "/", confidence, "/", class, "/fam.tsv")
Famtab_all = read.table(Fampath, header = T, sep = "\t", quote = "\"")
Famtab_LA = Famtab_all[rowSums(Famtab_all[,2:dim(Famtab_all)[2]]) > 1, ]
check = as.data.frame(colSums(Famtab_LA[,2:dim(Famtab_LA)[2]]))
check$"Specie" = rownames(check)
colnames(check) = c("Size", "Specie")
check = check[order(check$Size, decreasing = TRUE),]
New_order = check$Specie
Famtab_LA = Famtab_LA[, c("Family", New_order)]
upset(Famtab_LA,
sets = species,
nintersects = NA,
sets.bar.color = c(rep("#86c3e7", length(species))),
order.by = "freq",
#empty.intersections = "on",
text.scale = 1.7,
mainbar.y.label = "Number of families (Intersection Size)",
sets.x.label = "Number of families (Set Size)")
Fampath = paste0(WD1, "/", confidence, "/", class, "/fam.tsv")
Famtab_all = read.table(Fampath, header = T, sep = "\t", quote = "\"")
Famtab_LA = Famtab_all[rowSums(Famtab_all[,2:dim(Famtab_all)[2]]) > 1, ]
upset(Famtab_LA,
sets = species,
nintersects = NA,
sets.bar.color = c(rep("#86c3e7", length(species))),
order.by = "freq",
#empty.intersections = "on",
text.scale = 1.7,
mainbar.y.label = "Number of families (Intersection Size)",
sets.x.label = "Number of families (Set Size)")
upset(Famtab_LI,
sets = species,
nintersects = NA,
sets.bar.color = c(rep("#86c3e7", length(species))),
order.by = "freq",
#empty.intersections = "on",
text.scale = 1.7,
mainbar.y.label = "Number of families (Intersection Size)",
sets.x.label = "Number of families (Set Size)")
confidence = "Low"
class = "intronic"
Fampath = paste0(WD1, "/", confidence, "/", class, "/fam.tsv")
Famtab_all = read.table(Fampath, header = T, sep = "\t", quote = "\"")
Famtab_LI = Famtab_all[rowSums(Famtab_all[,2:dim(Famtab_all)[2]]) > 1, ]
check = as.data.frame(colSums(Famtab_LI[,2:dim(Famtab_LI)[2]]))
check$"Specie" = rownames(check)
colnames(check) = c("Size", "Specie")
check = check[order(check$Size, decreasing = TRUE),]
New_order = check$Specie
Famtab_LI = Famtab_LI[, c("Family", New_order)]
upset(Famtab_LI,
sets = species,
nintersects = NA,
sets.bar.color = c(rep("#86c3e7", length(species))),
order.by = "freq",
#empty.intersections = "on",
text.scale = 1.7,
mainbar.y.label = "Number of families (Intersection Size)",
sets.x.label = "Number of families (Set Size)")
## LNCRNAS
Genpath = paste0(WD1, "/", confidence, "/", class, "/gen.tsv")
Gentab_all = read.table(Genpath, header = T, sep = "\t", quote = "\"")
View(Gentab_all)
